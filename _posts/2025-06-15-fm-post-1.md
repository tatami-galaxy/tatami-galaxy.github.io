---
title: 'Flow Matching'
date: 2025-06-15
permalink: /posts/2025-06-15-fm-post-1./
tags:
  - category1
---

Flow matching gives us a way to model complex real world distributions (target) from simpler or known distrubitions (source). Let $$X_0$$ and $$X_1$$ be random variables in $$d$$ dimensional Euclidean space. Let $$X_0 \sim p$$ and $$X_1 \sim q$$ where $$p$$ and $$q$$ are source and target densities respectively. Then, the goal is to convert samples $$X_0 = x_0$$ into samples $$X_1 = x_1$$. 

One way to visualize this is in the form of fluid flow in $d$ dimensional Euclidean space, where the fluid is essentially probability mass. We can define a time dependent velocity field in this space which characterizes the flow. Then, converting samples from the source distribution to the target distribution can be thought of as transporting probability mass to convert one density into another along the given velocity field. 

![Flow Matching visualization where fluid "particles" "flow" from one distrubution to another](/images/flow_matching.gif)
*Animation from Federico Sarrocco's flow matching [blog](https://federicosarrocco.com/blog/flow-matching)*

Let $$u : [0,1] * R^d \rightarrow R^d$$ be the time dependent velocity field. This gives rise to the following ODE : 

$$u_t(x) = \frac{dx}{dt},$$ 

where $$t \in [0,1]$$ denotes time and $x$ is a point in $$R^d$$. 